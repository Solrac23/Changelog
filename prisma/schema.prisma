generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "linux-musl", "linux-musl-openssl-3.0.x", "windows"]
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Changelog {
  id                     Int      @id @default(autoincrement())
  version                String
  date                   DateTime
  description            String?
  major_changes          String?
  major_changes_check    Boolean?
  changed_features       String?
  changed_features_check Boolean?
  fix                    String?
  fix_check              Boolean?
  user_id                String
  createAt               DateTime @default(now())
  updateAt               DateTime @updatedAt
  user                   User     @relation(fields: [user_id], references: [id])

  @@index([user_id], map: "changelogs_user_id_fkey")
  @@map("changelogs")
}

model User {
  id         String      @id @default(uuid())
  name       String
  email      String      @unique
  password   String
  role       Role        @default(USER)
  company_id Int         @unique
  changelog  Changelog[]
  company    Company     @relation(fields: [company_id], references: [id_company])

  @@map("users")
}

model Company {
  id_company  Int    @id @default(autoincrement())
  nameCompany String
  uf          String
  city        String
  user        User?

  @@map("companys")
}

enum Role {
  USER
  ADMIN
}
